package main

// #cgo CFLAGS: -fplugin=./attack.so
// #include <stdio.h>
// typedef int (*intFunc) ();
// int bridge_int_func(intFunc f);
import "C"
import "fmt"

//export fortytwo
func fortytwo() C.int {
    return 42
}

func main() {
    f := C.intFunc(C.fortytwo)
    result := C.bridge_int_func(f)
    fmt.Println(result) // Should print 42
}

